# 相似歌曲推荐

## 问题分析

---

对于一首歌曲而言，可利用的信息有:

- 在下方评论的用户：

  用户的喜好[来自与他相关的歌曲的标签]	

  用户的基本信息[年龄(稀疏)，性别，地区，emo指数]

- 自身的标签[来自包含它的歌单]

- 自身的emo指数



## 相似歌曲推荐算法

---

歌曲推荐算法大体分为两种路线，一种是基于歌曲本身进行分析，一种是基于听众的用户画像和社交网络等进行分析。而本算法则提供了一种结合两者思想[以歌曲本身信息初筛，再以用户画像复筛]且简单易行的推荐策略。

基于歌曲本身

1. 根据自身的emo指数在歌曲库中进行第一次筛选，选出emo指数相近的歌曲
2. 根据自身的标签对1中的结果进行二次筛选，保留共同标签较多的歌曲

基于用户画像

3. 对2中得到的初筛剩余歌曲，分别进行听众用户画像

   [ps1:对一首歌曲的听众用户画像，即对在该歌曲下评论的用户群体，提取较为普适的喜好和基本信息]

   [ps2:用户的喜好来自于其听歌排行的普适标签]

   以某一用户为例：

   ​		基本信息：['男', 31, '四川省', 0.5553138638447093]

   ​		听歌喜好：['流行', '欧美', '摇滚', '经典', '怀旧']

   ​		==》用户画像['流行', '欧美', '摇滚', '经典', '怀旧', '男', '中年', '四川省', '重度emo']

   随后从该歌曲的相关用户中提取较为普遍的标签作为歌曲的听众用户画像即可

   

4. 对本歌曲的听众用户画像进行汇总[字典形式，统计标签出现次数]，以此对初筛结果做最后一次筛选[对于初筛结果中的每一首歌曲，根据其用户画像与本歌用户画像的重合度进行打分，每一标签的权重即为该标签在本歌画像中的出现次数]，并推荐得分较高的Top n首歌。

   

   以某一首目标歌曲为例，其听众用户画像的汇总字典为：

   ​		{'重度emo': 6, '孤独': 5, '华语': 4, '流行': 4, '伤感': 3, '民谣': 2, '放松': 2, '女': 2, '怀旧': 1, '经典': 1}

   ​				若初筛结果中歌曲1的听众用户画像为：

   ​						['男', '重度emo', '未成年', '山西省', '华语', '流行', '说唱', '电子', '90后', '青年']

   ​				==》则该歌曲的推荐得分为： 6[重度emo] + 4[华语] + 4[流行] = 14

   ​				若初筛结果中歌曲2的听众用户画像为：

   ​						['孤独', '重度emo', '女', '流行', '华语', '伤感', '放松', '网络歌曲']

   ​				==》则该歌曲的推荐得分为 ：6[重度emo] + 5[孤独] + 4[华语] + 4[流行] + 4[伤感] + 2[放松] + 2[女] = 27

   ​		显然，歌曲2比歌曲1更适合作为推荐对象。

   ​				

   ​		

具体实现请见"code\process\song_rec.py"，代码内含有相关注释